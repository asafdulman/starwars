(this.webpackJsonpstarwars=this.webpackJsonpstarwars||[]).push([[0],{25:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var i=n(2),r=n.n(i),c=n(17),a=n.n(c),s=n(4),o=n.n(s),l=n(6),u=n(3),f=(n(25),n(19)),j=n(18),d=n.n(j),m={getFilms:function(){return b.apply(this,arguments)},saveFilmToStorage:function(e,t){var n=v(e)?v(e):[];if(n.some((function(e){return e.episode_id===t.episode_id})))return"".concat(t.title);n=[t].concat(Object(f.a)(n)),localStorage.setItem(e,JSON.stringify(n))},loadFilmsFromStorage:v};function b(){return(b=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://swapi.dev/api/films/");case 2:return t=e.sent,e.abrupt("return",t.data.results);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){var t=localStorage.getItem(e);return t?JSON.parse(t):null}var O=n(0);function p(e){var t=e.film,n=e.selectFilm;return Object(O.jsx)("div",{className:"film-item-box",onClick:function(){return n(t)},children:Object(O.jsx)("p",{children:t.title})})}function x(e){var t=e.film,n=e.addToFavorites;return Object(O.jsxs)("div",{className:"film-preview-box",children:[Object(O.jsx)("h1",{children:t.title}),Object(O.jsx)("p",{children:t.opening_crawl}),Object(O.jsx)("button",{onClick:function(){return n(t)},children:"Add to favorites"})]})}function h(e){var t=e.film;return Object(O.jsx)("div",{className:"favorite-film-box",children:Object(O.jsx)("h3",{children:t.title})})}function F(){var e=Object(i.useState)(null),t=Object(u.a)(e,2),n=t[0],r=t[1];Object(i.useEffect)((function(){c()}),[]);var c=function(){var e=m.loadFilmsFromStorage("favoriteFilms");r(e)};return Object(O.jsx)("div",{className:"favorites-modal-box",children:null===n||void 0===n?void 0:n.map((function(e){return Object(O.jsx)(h,{film:e},e.episode_id)}))})}function g(e){var t=e.filmTitle;return Object(O.jsx)("div",{className:"error-message-modal-box",children:Object(O.jsxs)("p",{children:[t," is already a favorite film!"]})})}var S=function(){var e=Object(i.useState)(),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(i.useState)(),a=Object(u.a)(c,2),s=a[0],f=a[1],j=Object(i.useState)(!1),d=Object(u.a)(j,2),b=d[0],v=d[1],h=Object(i.useState)(""),S=Object(u.a)(h,2),w=S[0],N=S[1];Object(i.useEffect)((function(){T()}),[]);var T=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.getFilms();case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(e){f(e)};return Object(O.jsxs)("div",{className:"app",children:[Object(O.jsx)("button",{className:"show-favorites-films-btn",onClick:function(){v(!b)},children:"My Favorite Films"}),b&&Object(O.jsx)(F,{}),null===n||void 0===n?void 0:n.map((function(e){return Object(O.jsx)(p,{film:e,selectFilm:k},e.episode_id)})),s&&Object(O.jsx)(x,{film:s,addToFavorites:function(e){var t=m.saveFilmToStorage("favoriteFilms",e);t&&(N(t),setTimeout((function(){N("")}),3e3))}}),w&&Object(O.jsx)(g,{filmTitle:w})]})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),i(e),r(e),c(e),a(e)}))};a.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(S,{})}),document.getElementById("root")),w()}},[[45,1,2]]]);
//# sourceMappingURL=main.06feb507.chunk.js.map