(this.webpackJsonpstarwars=this.webpackJsonpstarwars||[]).push([[0],{25:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var r=n(2),i=n.n(r),a=n(17),c=n.n(a),s=n(4),o=n.n(s),l=n(6),u=n(3),j=(n(25),n(19)),f=n(18),d=n.n(f),m={getFilms:function(){return b.apply(this,arguments)},saveFilmToStorage:function(e,t){var n=v(e)?v(e):[];if(n.some((function(e){return e.episode_id===t.episode_id})))return"".concat(t.title," is already a favorite film");n=[t].concat(Object(j.a)(n)),localStorage.setItem(e,JSON.stringify(n))},loadFilmFromStorage:v};function b(){return(b=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://swapi.dev/api/films/");case 2:return t=e.sent,e.abrupt("return",t.data.results);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){var t=localStorage.getItem(e);return t?JSON.parse(t):null}var O=n(0);function p(e){var t=e.film,n=e.selectFilm;return Object(O.jsx)("div",{className:"film-item-box",onClick:function(){return n(t)},children:Object(O.jsx)("p",{children:t.title})})}function x(e){var t=e.film,n=e.addToFavorites;return Object(O.jsxs)("div",{className:"film-preview-box",children:[Object(O.jsx)("h1",{children:t.title}),Object(O.jsx)("p",{children:t.opening_crawl}),Object(O.jsx)("button",{onClick:function(){return n(t)},children:"Add to favorites"})]})}var h="favoriteFilms";function g(e){var t=e.film;return Object(O.jsx)("div",{className:"favorite-film-box",children:Object(O.jsx)("h3",{children:t.title})})}function F(){var e=Object(r.useState)(null),t=Object(u.a)(e,2),n=t[0],i=t[1];Object(r.useEffect)((function(){a()}),[]);var a=function(){var e=m.loadFilmFromStorage(h);i(e)};return Object(O.jsx)("div",{className:"favorites-modal-box",children:null===n||void 0===n?void 0:n.map((function(e){return Object(O.jsx)(g,{film:e},e.episode_id)}))})}function S(e){var t=e.message;return Object(O.jsx)("div",{className:"error-message-modal-box",children:Object(O.jsx)("p",{children:t})})}var w=n.p+"static/media/logo.86ad8c03.png";var N=function(){var e=Object(r.useState)(),t=Object(u.a)(e,2),n=t[0],i=t[1],a=Object(r.useState)(),c=Object(u.a)(a,2),s=c[0],j=c[1],f=Object(r.useState)(!1),d=Object(u.a)(f,2),b=d[0],v=d[1],g=Object(r.useState)(""),N=Object(u.a)(g,2),k=N[0],y=N[1];Object(r.useEffect)((function(){T()}),[]);var T=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.getFilms();case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(e){return j(e)};return Object(O.jsxs)("div",{className:"app",children:[Object(O.jsx)("img",{className:"logo-img",src:w,alt:""}),Object(O.jsx)("button",{className:"show-favorites-films-btn",onClick:function(){return v(!b)},children:"My Favorite Films"}),b&&Object(O.jsx)(F,{}),k&&Object(O.jsx)(S,{message:k}),Object(O.jsxs)("div",{className:"main-container",children:[Object(O.jsx)("div",{className:"film-table-list-box",children:null===n||void 0===n?void 0:n.map((function(e){return Object(O.jsx)(p,{film:e,selectFilm:C},e.episode_id)}))}),s&&Object(O.jsx)(x,{film:s,addToFavorites:function(e){var t=m.saveFilmToStorage(h,e);t&&(y(t),setTimeout((function(){y("")}),3e3))}})]})]})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),i(e),a(e),c(e)}))};c.a.render(Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(N,{})}),document.getElementById("root")),k()}},[[45,1,2]]]);
//# sourceMappingURL=main.fa4c1abe.chunk.js.map